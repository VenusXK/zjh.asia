# 2022年山大真题分析

[[TOC]]

## 选择题

### 02 移位运算

> 已知 $[X]_补=8CH$，计算机的机器字长为8位二进制数编码，求$[X/4]_{补}$

这道题考察的是补码移位运算，不是乘除法，乘除法只考虑4位左右，否则计算量过大，8位二进制码的乘除法需要进行9次，不会考察。

算术移位规则如下：

|     |    码制          |   添补代码   |
|:---:|:---:            |:---:         |
| 正数 | 原码、补码、反码 | 0           |
| 负数 | 原码            | 0           |
| 负数 | 补码            |  左移添0    |
| 负数 | 补码            |  右移添1    |
| 负数 | 反码            |  1         |

逻辑移位将数视为无符号数。



符号扩展规则如下：

- **原码** + **补码正数**：符号位不变，其余补0；
- **补码负数**：负数附加位用1补，整数补1，小数补0；


运算标志位规定如下：

| 标志位 | 数值及含义 | 对 *无符号数* 是否有意义 | 对 *有符号数* 是否有意义 | 
|:---:|:---:|:---:|:---:|
| $ZF$  |  1表示结果为0 | ✓ | ✓ | 
| $OF$  |  1表示发生溢出 |  | ✓ | 
| $SF$  |  结果的符号 |  | ✓ |
| $CF$  |  进位/借位<br>加法1表示溢出进位，等于$C_{out}$<br>减法1表示借位，等于$C_{out}$取反 | ✓ |  |

一位符号位溢出判断方法

$V = A_SB_S\overline{S_S} + \overline{A_SB_S}S_S$，$A_S$和$B_S$表示两个操作数的正负($0或1$)，$S_S$表示结果的正负($0或1$)。

两位符号位溢出判断方法

- $S_{S1}S_{S2} = 00$，结果为正，无溢出；
- $S_{S1}S_{S2} = 01$，结果为正溢出；
- $S_{S1}S_{S2} = 10$，结果为负溢出；
- $S_{S1}S_{S2} = 11$，结果为负，无溢出；


### 03 微指令设计

> 某机采用微程序控制方式，微指令字长24位，采用水平编码控制的微指令格式，共有微命令30个，构成4个相互排斥类，各包含5个，8个，14个，3个微命令，外部条件3个（直接控制），求控制存储器的容量应为多少？

注意每个互斥字段要多留一位，0000表示什么都不做，3个外部条件互斥，不能直接写2位控制，而应该写3位控制，条件之间可能有关系，可能有 $2^3=8$ 种条件。

| 3位 | 4位 | 4位 | 2位 | 3位 | 8位 |
|:---:|:---:|:---:|:---:|:---:|:---:|
|互斥字段1|互斥字段2|互斥字段3|互斥字段4|条件字段|下地址字段|

> 某支持猝发传输的同步总线时钟频率为200MHz，宽度为32位，地址数据总线复用，一个时钟周期传输一个地址或数据，一次存储器读取总线事务传输用的时间为25ns，求有效数据传输的位数。

此题的关键是理解猝发传输，**猝发传输方式**：在一个总线周期内传输存储地址连续的多个数据字，也就是说一次传输一个地址和一批地址连续的数据。计算结果应为128bit。
