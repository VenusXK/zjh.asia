# 类和面向对象

## 面向对象

面向过程的缺点：没有主语，不知道到底是谁具有这个行为，并负责执行这个行为。

---

面向对象的三个特性

- **封装**：数据和对数据的操作封装在一起，通过抽象从实例中抽取出共同性质形成一般概念；
- **继承**：子类继承父类的属性和行为；
- **多态**：**1)** 操作名称的多态，重名函数，让对象根据相应的消息来产生相应的行为；**2)** 和继承有关的多态，同一个操作被不同类型的对象调用时时产生不同的行为，如猫叫和狗叫。

## 类

### 类的命名和类体

给类命名时需要首字母大写，最好见名知意，多单词用驼峰式。

类体包含变量的声明和方法的定义。

```java
class Factory
{                   // 类体
    float [] a;     // 类体
    Workman zhang;  // 类体
}                   // 类体
```

### 成员变量

成员变量的类型包括基本类型和引用类型。

```java
class Factory{
    float [] a;
    Workman zhang;
}
class Workman{
    double x;
}
```

- **基本类型**：整型、浮点型、字符型、逻辑类型；
- **引用类型**：数组、对象和接口。



---

成员变量会进行默认值设置，各类型对应默认值如下：

- **boolean**：false；
- **整形**：0；
- **char**：'\0'；
- **浮点**：0.0；
- **引用型**：null。

---

成员变量在整个类的方法中都有效，与在类中出现的位置无关，如下：

```java
class Ladder{
    void setHeight(float h){
        height = h;
    }
    float height;
}
```

但在成员变量的声明中使用变量必须之前定义，如 `float bottom = above + 10` 中，`above` 必须在之前定义。

### 编程风格

建议先介绍属性再介绍行为；不提倡一行命名多个，因无法加注释。

### 方法

局部变量只在方法中有效，与其声明的位置有关。

局部变量没有默认值，未初始化会报 `InitError` 错误。

---

局部变量名字与成员变量相同成员变量被隐藏，使用被隐藏的成员变量需使用 `this` 关键字。

```java
class Tom{
    int x = 10, y;
    void f(){
        int x = 5;
        y = x + this.x;
    }
}
```

### 修改成员变量

只能在方法中修改成员变量，但可赋初值。

```java
class A{
    int a = 12; // ok
    int b; // wrong
    b = 12; // wrong
}
```

### 类的 UML 图

UML 指 Unified Modeling Language。

| Ladder |
|:---:|
| above: float <br> bottom: float <br>|
| computerArea(): float<br> setHeight(float): void |


- **第一层**：名字，使用斜体表示抽象类；
- **第二层**：变量，写法如案例；
- **第三层**：方法，可只列出重要的方法。

