# 2019年山东大学专硕真题分析

[[TOC]]

## 简答题

### 01 Cache读流程

> 以全相联映射为例，说明在带有 Cache 的存储系统中，读操作如何完成。

注意如果访问 Cache 缺失，写入 Cache 可能会遇到 Cache 满情况，需要执行 Cache 行替换算法。

### 04 IO设备

> 在程序查询的输入输出系统中，假设不考虑处理时间，每一个查询操作需要100个时钟周期，CPU的时钟频率为40MHz。CPU对鼠标每秒进行30次查询。现有鼠标和硬盘两个设备，鼠标每秒查询30次；硬盘以32位字长被查询，速率为2.5MBps。求CPU查询设备花费时间的比率，由此得出什么结论?

该比率不是$\frac{T_{鼠标}}{T_{键盘}}$，而是依次分析 $\frac{T_{鼠标占用}}{T_{CPU总}}$ 和 $\frac{T_{硬盘占用}}{T_{CPU总}}$。

鼠标每秒 $3000$ 个时钟周期，CPU 每秒 $40M$ 个时钟周期，CPU 查询设备花费时间的比率为 $\frac{3\times10^3}{4\times10^7} = 7.5 \times 10^{-5} = 0.0075\%$。

硬盘 $2.5MBps$ 需要每秒传输 $\frac{2.5MBps}{4B} = 0.625M$ 次，需要每秒 $62.5M$ 个时钟周期，CPU 每秒提供 $40M$ 个时钟周期，CPU 查询设备花费时间的比率为 $\frac{62.5M}{40M} = 1.56\%$。

**结论**：即使CPU把全部的时钟周期给硬盘查询，也无法满足传输速率要求，因此硬盘与内存的访问不采用程序查询方式。

## 分析设计题

### 02 微操作流程

> 某主机数据通路如下图所示。指令格式为 ADD @B，其中B是通用寄存器，@为间接寻址符号......

这道题关键点是要区分**间接寻址**和**寄存器间接寻址**，间接寻址访存三次，寄存器间接寻址访存两次。


::: warning 指令寻址访存次数
- **立即寻址**：在取指令阶段，访问一次内存；在执行阶段，不需要访问内存；（一次）
- **直接寻址**：在取指令阶段，访问一次内存；在执行阶段，访问一次内存；（两次）
- **间接寻址**：在取指令阶段，访问一次内存；在执行阶段，访问两次内存；（三次）
- **寄存器直接寻址**：在取指令阶段，访问一次内存；在执行阶段，不需要访问内存；（一次）
- **寄存器间接寻址**：在取指令阶段，访问一次内存；在执行阶段，访问一次内存；（两次）
:::
