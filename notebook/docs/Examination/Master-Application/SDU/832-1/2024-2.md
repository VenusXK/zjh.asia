# 2024年山大预测2分析

[[TOC]]

## 简答题

### 03 堆排序和稳定性

> 已知关键字为{32, 6, 50, 27, 97, 15, 92, 29, 20}，按关键字递增顺序排序，若采用最小根堆排序，请给出初始堆。

答案为：\{6, 20, 15, 27, 97, 50, 92, 29, 32\}

一开始，我没有按照对应程序的排法进行排序，而是从空树开始，写入一个节点，排序一次，结果为 \{6, 20, 15, 27, 97, 50, 92, **32**, **29**\}，最后两位顺序和答案相反。

我一度以为是答案出错，结果重新阅读《王道》，发现要严格按照程序的排法进行排序，先构造初始二叉树，对于每个子树为根节点进行自下而上的遍历，排序以每个子树排序为单位。

::: details 堆排序算法

构建初始堆如下：

```cpp
void BuildMaxHeap(ElemType A[], int len){
    for(int i = len/2; i > 0; i--)
        HeadAdjust(A, i, len);
}

void AdjustUp(ElemType A[], int k){
    A[0] = A[k];
    int i = k / 2;
    while(i > 0 && A[i]<A[0]){
        A[k] = A[i];
        k = i;
        i = k/2;
    }
    A[k] = A[0];
}
```

向上调整算法：

```cpp
void AdjustUp(ElemType A[], int k){
    A[0] = A[k];
    int i = k / 2;
    while(i > 0 && A[i]<A[0]){
        A[k] = A[i];
        k = i;
        i = k/2;
    }
    A[k] = A[0];
}
```

:::

同时，我复习了一下弹出的过程，弹出的过程是将堆顶元素与最后一个元素交换，再对堆顶元素进行向下调整。

> 快速排序是稳定排序吗？堆排序是稳定排序吗？

上述都不是稳定的，只有插入排序、冒泡排序、归并排序是稳定排序。


### 04-1 考察B树和B+树的区别

> B树支持从叶子节点开始的顺序检索吗？请说明理由。

B+树中，分支节点仅包含各个子节点的最大值及指向孩子的指针，仅起索引作用。叶子节点的关键字按照大小顺序排列，且叶子节点之间有指针相连，因此可以从叶子节点开始顺序检索。

对B+树两种索引：

- 从最小关键字开始顺序查找
- 从根节点开始多路查找

B+树的查找是一条从根节点到叶子节点的路径(无论成功与否)。

### 04-2 哈夫曼树的不唯一性

> 任意给定一组频率值，构造的Huffman树是否唯一，高度是否确定，说明理由。

**带权路径长度最小的二叉树称作霍夫曼树**。高度不确定，对应树不唯一，因为没有限定左右子树，并且有权值重复时，可能树的高度不唯一(三个子树其根结点值为11，每个高度不一样，则可能有多种树高)，唯一的只是带权路径长度之和(WPL，Weighted Path Length)最小。

### 04-3 AVL树

> 对以下关键字序列{16, 3, 7, 11, 9, 26, 18}，依次插入一棵初始为空的AVL树中，请画出每插入一个关键字后的AVL树。

避免树的增长过快，因此引入平衡二叉树。

一些基础概念：

- 平衡因子：$h_L-h_R$，即左子树高度减去右子树高度
- 调整的节点：离插入节点最近的，且平衡因子绝对值大于1的节点，这里设为A

调整方法：

- **单旋**
  - **LL平衡旋转**：在A的左L孩子的左L子树插入结点，A平衡因子1->2，对A进行右旋转
  - **RR平衡旋转**：在A的右R孩子的右R子树插入结点，A平衡因子-1->-2，对A进行左旋转
- **双旋**
  - **LR平衡旋转**：在A的左L孩子的右R子树插入结点，A平衡因子1->2，对A->`lchild`->`rchild`进行左旋转，再对A进行右旋转
  - **RL平衡旋转**：在A的右R孩子的左L子树插入结点，A平衡因子-1->-2，对A->`rchild`->`lchild`进行右旋转，再对A进行左旋转
