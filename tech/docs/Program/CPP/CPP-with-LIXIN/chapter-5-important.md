# 数组与字符串：上课重点内容

## 一维数组的定义和初始化

### 一维数组的定义

Python 中有 `eval('a'+i)` 的方法可以访问若干个标量，C/C++ 中使用数组。原因是 Python 是基于虚拟机的语言，而 C 和 C++ 是基于内存的语言。

---

数组可以方便**二次使用**若干个数据。

---

`int a[n]` 中 `n` 是常量表达式，C++ 标准 11 之后可以使用变量。

---

定义行和使用行某些符号的意义是不同的，`int a[3]` 中 3 是指数据的个数，而 `a[3] = 0` 中 3 是指第四个元素。

::: info 类比
`&` 符号的使用上也存在这样的现象，`int &x = a;` 中 `&` 表示引用，而 `int x = &a;` 中 `&` 表示地址。
:::

### 一维数组的初始化

**部分初始化**时，未赋值元素为0。非部分初始化时，具体值是不知道的。

```cpp
int a[100] = {1, 2, 3};
// a: 1, 2, 3, 0, 0, 0 ... 0;
int b[100] = {0};
// b: 0, 0, 0 ... 0;
int c[100];
// c: 2931 213 324 21 ... (随机)
```

除部分初始化外，只能单独赋值，不允许整体输入，不允许整体输出。

---

无论何种定义方式，定义时必须明确到底有多大，因为要分配内存。

---

定义时可以提供冗余容量，防止数组越界。

```cpp
cin >> n;
int a[n + 5];
```

---

做 OJ 题时，如果遇到 $10^6$ 左右的数，表示要使用数组，否则可能会遇到困难。

::: info 拓展
$10^6$ $10^5$ 打表法 恰巧建立数组；

$10^7$ $10^8$ 无法建立数组，一定要优化

$300$ 表示三重循环每个最多 300 次；

$5000$ 表示要优化，最多使用二重循环；
:::

### 一维数组的内存模型

数组的建立过程是一次内存分配，其开销相对标量来说很多，能不用就不用，如能用“递归”就不用数组，因为程序相对来说简单些。

---

`char` 的长度是 1 字节，0 ~ 255 位，无法存储汉字，汉字需要 2 字节。

### 数组的基本运算

### 数组作为函数参数

```cpp{1,11}
int argmin(int n, int arr[]){
    for(int i = 0; i < n; i ++){
        // visit a[i]
    }
    return xx;
}

int main(){
    int n; cin >> n;
    int a[n + 10];
    cout << argmin(n, a) << endl;
    return 0;
}
```

`a[n]` 中 `a` 是指针常量，除部分初始化外，只能单独赋值，不允许整体输入，不允许整体输出，比如：

```cpp
int a[3] = {1, 2, 3};
int b[3];
b = a; // 报错，数组不能对数组赋值，同时，b是常量地址，不是变量地址，不能修改
```

正确的代码中，`int arr[]` 形式上是数组，实际是指针变量，只表示 `arr` 是个接受地址的变量，与 `[]` 中的数据毫无关系，可写为 `int arr[50]`、`int arr[500]`、`int arr[n]`，这里的 `50`、`500`、`n` 毫无作用，因此必须把数组长度传递过来。
